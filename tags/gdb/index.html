<!doctype html><html lang=ja><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Gdb | うたもく</title><meta name=description content="utam0k"><meta property="og:description" content="utam0k"><meta property="og:type" content="website"><meta property="og:site_name" content="うたもく"><meta property="og:url" content="https://www.utam0k.jp/tags/gdb/"><meta property="og:title" content="Gdb"><meta property="og:image" content="https://www.utam0k.jp/img/og/base_hu_e2f035052dff2e10.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.utam0k.jp/img/og/base_hu_e2f035052dff2e10.png"><link rel=alternate type=application/rss+xml href=https://www.utam0k.jp/index.xml><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=PT+Sans:wght@400;700&family=Noto+Sans+JP:wght@400;500;700&display=swap" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/hack-font/3.3.0/web/hack.min.css crossorigin=anonymous><link rel=stylesheet href=https://www.utam0k.jp/css/main.min.c4f5217ffc943dd06bf5e9285a13579c16ea18a4b3f8d0ef661b70f60a2cbd3e.css integrity="sha256-xPUhf/yUPdBr9ekoWhNXnBbqGKSz+NDvZhtw9gosvT4="><script>(()=>{const e=window.matchMedia("(prefers-color-scheme: dark)"),n=e=>{const s=document.querySelectorAll(".theme-option");s.forEach(t=>{const n=t.dataset.mode===e;t.setAttribute("aria-pressed",n?"true":"false")});const t=document.querySelector(".theme-toggle");t&&t.setAttribute("aria-pressed",e==="dark"?"true":"false");const o=document.querySelectorAll(".theme-choice");o.forEach(t=>t.setAttribute("aria-checked",t.dataset.mode===e?"true":"false"));const n=document.querySelector("[data-theme-icon]");if(n){const t=e==="system"?document.documentElement.dataset.theme||"light":e;n.dataset.state=t}},s=t=>t==="system"?e.matches?"dark":"light":t,t=e=>{const t=s(e);document.documentElement.dataset.theme=t,document.body&&(document.body.dataset.theme=t,document.body.classList.toggle("theme-dark",t==="dark"),document.body.classList.toggle("theme-light",t==="light")),n(e)},o=()=>{const e=localStorage.getItem("color-scheme"),n=e||"system";t(n)};e.addEventListener("change",e=>{const n=localStorage.getItem("color-scheme");(!n||n==="system")&&t("system")}),window.__setTheme=e=>{const n=e||(document.documentElement.dataset.theme==="dark"?"light":"dark");localStorage.setItem("color-scheme",n),t(n)},window.__toggleTheme=()=>window.__setTheme(),window.__toggleThemeMenu=e=>{const t=e?.nextElementSibling;if(!t)return;const n=!t.hidden;document.querySelectorAll(".theme-popover").forEach(e=>e.hidden=!0),document.querySelectorAll(".theme-trigger").forEach(e=>e.setAttribute("aria-expanded","false")),n||(t.hidden=!1,e.setAttribute("aria-expanded","true"))},document.addEventListener("click",e=>{const t=document.querySelector(".theme-popover");if(!t)return;if(e.target.closest(".theme-menu"))return;t.hidden=!0;const n=document.querySelector(".theme-trigger");n?.setAttribute("aria-expanded","false")}),window.__toggleLangMenu=e=>{const t=e?.nextElementSibling;if(!t)return;const n=!t.hidden;document.querySelectorAll(".lang-popover").forEach(e=>e.hidden=!0),document.querySelectorAll(".lang-trigger").forEach(e=>e.setAttribute("aria-expanded","false")),n||(t.hidden=!1,e.setAttribute("aria-expanded","true"))},window.__switchLang=(e)=>{if(!e)return;window.location.href=e},document.addEventListener("click",e=>{const t=document.querySelector(".lang-popover");if(!t)return;if(e.target.closest(".lang-menu"))return;t.hidden=!0;const n=document.querySelector(".lang-trigger");n?.setAttribute("aria-expanded","false")}),o(),document.addEventListener("DOMContentLoaded",()=>{const t=document.documentElement.dataset.theme||(e.matches?"dark":"light");n(t)})})()</script><meta name=generator content="Hugo 0.152.2"><script async src="https://www.googletagmanager.com/gtag/js?id=G-F75YLEHSJN"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-F75YLEHSJN")</script></head><body class=page data-has-toc=false><div class=page-shell><header class=site-header><a class=brand href=https://www.utam0k.jp/><span class=brand-mark aria-hidden=true style=background-image:url(https://www.utam0k.jp/img/logo.png)></span><div class=brand-text><span class=brand-name>Toru Komatsu</span>
<span class=brand-tagline>@utam0k</span></div></a><div class=header-actions><nav class=main-nav aria-label=Primary><a class=nav-item href=https://www.utam0k.jp/blog/>Blog</a>
<a class=nav-item href=https://www.utam0k.jp/tmp/>/tmp</a>
<a class=nav-item href=https://www.utam0k.jp/slides/>Slides</a>
<a class=nav-item href=https://www.utam0k.jp/page/about/>About</a></nav><span class=header-divider aria-hidden=true></span><div class=header-social><a class=social-btn href=https://github.com/utam0k target=_blank rel="noopener noreferrer" aria-label=GitHub><svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 .5A12 12 0 008.21 23.9c.6.1.82-.26.82-.58.0-.29-.01-1.05-.02-2.06-3.34.73-4.04-1.61-4.04-1.61-.54-1.37-1.32-1.73-1.32-1.73-1.08-.74.08-.73.08-.73 1.19.08 1.81 1.22 1.81 1.22 1.06 1.8 2.79 1.28 3.47.98.1-.77.42-1.28.76-1.58-2.66-.3-5.47-1.34-5.47-5.95.0-1.32.47-2.4 1.24-3.25-.13-.3-.54-1.52.12-3.16.0.0 1.01-.32 3.3 1.24a11.5 11.5.0 016 0c2.28-1.56 3.29-1.24 3.29-1.24.66 1.64.25 2.86.12 3.16.77.85 1.23 1.93 1.23 3.25.0 4.62-2.81 5.64-5.49 5.94.43.37.81 1.11.81 2.24.0 1.62-.02 2.93-.02 3.33.0.32.21.7.83.58A12 12 0 0012 .5z"/></svg>
</a><a class=social-btn href=https://x.com/utam0k target=_blank rel="noopener noreferrer" aria-label="X (Twitter)"><svg viewBox="0 0 24 24" aria-hidden="true"><path d="M3 3h5.3l3.4 4.8L14.8 3H21l-6.8 9.2L21 21h-5.3L12 15.8 8.2 21H3l6.8-8.9L3 3z"/></svg></a></div><span class=header-divider aria-hidden=true></span><div class=lang-menu><button class=lang-trigger type=button aria-haspopup=true aria-expanded=false onclick=window.__toggleLangMenu&&window.__toggleLangMenu(this)>
<span class=lang-trigger__label>JA</span></button><div class=lang-popover hidden role=menu><button class=lang-choice type=button data-lang=JA aria-checked=true role=menuitemradio onclick='window.__switchLang&&window.__switchLang("/","JA")'>日本語</button>
<button class=lang-choice type=button data-lang=EN aria-checked=false role=menuitemradio onclick='window.__switchLang&&window.__switchLang("/en/tags/gdb/","EN")'>English</button></div></div><div class=theme-menu><button class=theme-trigger type=button aria-haspopup=true aria-expanded=false onclick=window.__toggleThemeMenu&&window.__toggleThemeMenu(this)>
<span class=theme-trigger__icon aria-hidden=true data-theme-icon data-state=system></span>
<span class=sr-only data-theme-label>Theme</span></button><div class=theme-popover hidden><button class=theme-choice type=button data-mode=system aria-checked=false role=menuitemradio onclick='window.__setTheme&&window.__setTheme("system")'>Auto (System)</button>
<button class=theme-choice type=button data-mode=light aria-checked=false role=menuitemradio onclick='window.__setTheme&&window.__setTheme("light")'>Light</button>
<button class=theme-choice type=button data-mode=dark aria-checked=false role=menuitemradio onclick='window.__setTheme&&window.__setTheme("dark")'>Dark</button></div></div><button class=menu-toggle type=button aria-expanded=false aria-controls=mobile-menu data-menu-toggle>
<span class=sr-only>Menu</span>
<span class=menu-toggle__icon aria-hidden=true><span></span></span></button></div><div class=mobile-menu id=mobile-menu hidden><div class=mobile-menu__header><span class=mobile-menu__title>Menu</span>
<button class=menu-close type=button aria-label="Close menu" data-menu-close>
<svg viewBox="0 0 24 24" aria-hidden="true"><path d="M18 6 6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg></button></div><nav class=mobile-menu__links aria-label="Primary mobile"><a class=mobile-menu__item href=https://www.utam0k.jp/blog/>Blog</a>
<a class=mobile-menu__item href=https://www.utam0k.jp/tmp/>/tmp</a>
<a class=mobile-menu__item href=https://www.utam0k.jp/slides/>Slides</a>
<a class=mobile-menu__item href=https://www.utam0k.jp/page/about/>About</a></nav><div class=mobile-menu__footer><div class=mobile-menu__langs><button class="lang-chip is-active" type=button onclick='window.__switchLang&&window.__switchLang("/","JA")'>JA</button>
<button class=lang-chip type=button onclick='window.__switchLang&&window.__switchLang("/en/tags/gdb/","EN")'>EN</button></div><div class=mobile-menu__icons><button class=social-btn type=button aria-label="Toggle theme" onclick=window.__toggleTheme&&window.__toggleTheme()>
<svg viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="12" r="4" fill="currentColor"/><path d="M12 2v2m0 16v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2m16 0h2M4.93 19.07l1.41-1.41M17.66 6.34l1.41-1.41" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
</button>
<a class=social-btn href=https://github.com/utam0k target=_blank rel="noopener noreferrer" aria-label=GitHub><svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 .5A12 12 0 008.21 23.9c.6.1.82-.26.82-.58.0-.29-.01-1.05-.02-2.06-3.34.73-4.04-1.61-4.04-1.61-.54-1.37-1.32-1.73-1.32-1.73-1.08-.74.08-.73.08-.73 1.19.08 1.81 1.22 1.81 1.22 1.06 1.8 2.79 1.28 3.47.98.1-.77.42-1.28.76-1.58-2.66-.3-5.47-1.34-5.47-5.95.0-1.32.47-2.4 1.24-3.25-.13-.3-.54-1.52.12-3.16.0.0 1.01-.32 3.3 1.24a11.5 11.5.0 016 0c2.28-1.56 3.29-1.24 3.29-1.24.66 1.64.25 2.86.12 3.16.77.85 1.23 1.93 1.23 3.25.0 4.62-2.81 5.64-5.49 5.94.43.37.81 1.11.81 2.24.0 1.62-.02 2.93-.02 3.33.0.32.21.7.83.58A12 12 0 0012 .5z"/></svg></a>
<a class=social-btn href=https://x.com/utam0k target=_blank rel="noopener noreferrer" aria-label="X (Twitter)"><svg viewBox="0 0 24 24" aria-hidden="true"><path d="M3 3h5.3l3.4 4.8L14.8 3H21l-6.8 9.2L21 21h-5.3L12 15.8 8.2 21H3l6.8-8.9L3 3z"/></svg></a></div></div></div><div class=mobile-menu__overlay data-menu-overlay hidden></div></header><main class=layout><section class=page-header><p class=eyebrow>Tagged</p><h1>Gdb</h1><p class=muted>1 posts</p></section><div class=post-grid><article class=post-card><a class=post-card__body href=https://www.utam0k.jp/blog/2018/12/12/freebsd_on-line_debugging/><p class=post-card__meta>2018-12-12 · 4 min</p><h2 class=post-card__title>FreeBSDのオンラインカーネルデバッグ with QEMU</h2><p class=post-card__excerpt></p><div class=post-card__tags><span class=tag>freebsd</span><span class=tag>os</span><span class=tag>gdb</span></div></a></article></div></main><footer class=site-footer><div class=footer-meta><span>&copy; 2025 Toru Komatsu</span>
<a href=https://x.com/utam0k target=_blank rel=noopener class=muted>@utam0k</a></div><div class=footer-links><a class=muted href=https://www.utam0k.jp/index.xml>RSS</a>
<a class=muted href=https://github.com/utam0k target=_blank rel=noopener>GitHub</a></div></footer></div><script defer src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script defer type=text/x-mathjax-config>MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] } });</script><script>(()=>{const e=()=>{const e=window.matchMedia("(max-width: 1024px)").matches,t=/Mobi|Android/i.test(navigator.userAgent),n=e||t;document.body.dataset.isMobile=n?"true":"false"};e(),window.addEventListener("resize",e,{passive:!0})})(),(()=>{const t=()=>Array.from(document.querySelectorAll("[data-toc-modal]")),n=()=>Array.from(document.querySelectorAll(".toc-modal")),u=()=>Array.from(document.querySelectorAll(".toc-modal__overlay")),r=e=>t().filter(t=>t.dataset.tocModal===`#${e?.id}`),s=(e,t)=>{r(e).forEach(e=>{e.classList.toggle("is-active",t),e.setAttribute("aria-pressed",t?"true":"false")})},c=e=>{if(!e)return;e.classList.add("is-open"),e.hidden=!1,document.body.classList.add("toc-open"),s(e,!0)},e=e=>{if(!e)return;e.style.transform="",e.classList.remove("is-open"),e.hidden=!0,document.body.classList.remove("toc-open"),s(e,!1)},o=()=>n().forEach(t=>e(t)),l=t=>{if(!t)return;t.classList.contains("is-open")?e(t):c(t)},i=()=>{t().forEach(e=>e.classList.add("is-visible"))},d=t=>{let n=0,s=0,o=!1;const i=80,a=e=>{const i=t.querySelector(".toc-modal__handle"),a=t.querySelector(".toc-modal__header"),r=i?.contains(e.target)||a?.contains(e.target),c=t.scrollTop<=0;if(!r&&!c)return;o=!0,n=e.touches[0].clientY,s=n,t.style.transition="none"},r=e=>{if(!o)return;s=e.touches[0].clientY;const i=s-n;i>0&&(t.style.transform=`translateY(${i}px)`,e.preventDefault())},c=()=>{if(!o)return;o=!1,t.style.transition="";const a=s-n;a>i?e(t):t.style.transform=""};t.addEventListener("touchstart",a,{passive:!0}),t.addEventListener("touchmove",r,{passive:!1}),t.addEventListener("touchend",c,{passive:!0})},a=()=>{t().forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.tocModal,n=t?document.querySelector(t):null;l(n)})}),n().forEach(e=>d(e)),document.addEventListener("click",t=>{if(t.target?.classList?.contains("toc-modal__overlay")&&o(),t.target?.matches("[data-toc-close]")){const n=t.target.closest(".toc-modal");e(n)}t.target?.closest(".toc-modal")&&t.target.tagName==="A"&&o()}),window.addEventListener("scroll",i,{passive:!0}),i()};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",a):a()})(),(()=>{const e=document.querySelector(".site-header");if(!e)return;const s=()=>document.body.dataset.isMobile==="true";if(s())return;let t=window.scrollY,n=!1;const o=8,i=()=>{const n=window.scrollY;if(n<80){e.classList.remove("is-hidden"),t=n;return}if(Math.abs(n-t)<o)return;n>t?e.classList.add("is-hidden"):e.classList.remove("is-hidden"),t=n};window.addEventListener("scroll",()=>{if(n)return;n=!0,requestAnimationFrame(()=>{i(),n=!1})},{passive:!0})})(),(()=>{const e=document.querySelector(".share-block--mobile");if(!e)return;const o=()=>document.body.dataset.isMobile==="true";let t=window.scrollY,s=!1;const i=4,a=80,r=()=>{if(e.classList.contains("is-floating"))return;e.classList.add("is-floating"),document.body.classList.add("has-mobile-share")},c=()=>{e.classList.remove("is-floating","is-visible"),document.body.classList.remove("has-mobile-share")},n=()=>{if(!o()){c();return}r();const n=window.scrollY;if(n<a){e.classList.add("is-visible"),t=n;return}if(Math.abs(n-t)<i)return;const s=n<t;s?e.classList.add("is-visible"):e.classList.remove("is-visible"),t=n};window.addEventListener("scroll",()=>{if(s)return;s=!0,requestAnimationFrame(()=>{n(),s=!1})},{passive:!0}),window.addEventListener("resize",n,{passive:!0}),window.addEventListener("orientationchange",n,{passive:!0}),n()})(),(()=>{const e=document.querySelector("[data-share-native]");if(!e)return;const n=e.dataset.shareUrl||location.href,s=e.dataset.shareTitle||document.title,o=()=>document.body.dataset.isMobile==="true",i=()=>{e.hidden=!1,e.addEventListener("click",async e=>{e.preventDefault();try{await navigator.share({title:s,url:n})}catch(e){if(e&&e.name==="AbortError")return;console.warn("Native share failed",e)}})},t=()=>{navigator.share&&o()?i():e.remove()};t(),window.addEventListener("resize",t,{passive:!0}),window.addEventListener("orientationchange",t,{passive:!0})})(),(()=>{const e=document.querySelector("[data-menu-toggle]"),s=document.getElementById("mobile-menu"),t=document.querySelector("[data-menu-overlay]");if(!e||!s)return;const i=()=>document.body.dataset.isMobile==="true",o=n=>{e.classList.toggle("is-open",n),e.setAttribute("aria-expanded",n?"true":"false"),s.hidden=!n,s.classList.toggle("is-open",n),t&&(t.hidden=!n,t.classList.toggle("is-open",n)),document.body.classList.toggle("menu-open",n)},a=()=>o(e.getAttribute("aria-expanded")!=="true"),n=()=>o(!1);e.addEventListener("click",e=>{e.stopPropagation(),a()}),document.querySelectorAll("[data-menu-close]").forEach(e=>e.addEventListener("click",n)),document.addEventListener("click",t=>{!s.contains(t.target)&&!e.contains(t.target)&&n()}),t&&t.addEventListener("click",n),document.addEventListener("keydown",e=>{e.key==="Escape"&&n()}),window.addEventListener("resize",()=>{i()||n()},{passive:!0})})()</script><script>(()=>{const s=Array.from(document.querySelectorAll(".toc__body a"));if(!s.length)return;const r=e=>decodeURIComponent(e.hash.replace("#","")),o=new Map;s.forEach(e=>{const t=r(e),n=o.get(t)||[];n.push(e),o.set(t,n)});const t=Array.from(new Set(s.map(e=>document.getElementById(r(e))).filter(Boolean)));if(!t.length)return;const i=e=>{o.forEach((t,n)=>{t.forEach(t=>t.classList.toggle("is-active",n===e))})},e=()=>{const n=window.scrollY+120;let e=t[0].id;for(const s of t)if(s.offsetTop<=n)e=s.id;else break;return i(e),e};let n=t[0].id;if(i(n),"IntersectionObserver"in window){const s=new Map,o=()=>{if(s.size){const e=Array.from(s.values()).sort((e,t)=>e.boundingClientRect.top-t.boundingClientRect.top)[0];n=e.target.id,i(n)}else n=e()},a=new IntersectionObserver(e=>{e.forEach(e=>{const t=e.target.id;e.isIntersecting?s.set(t,e):s.delete(t)}),o()},{rootMargin:"0px 0px -65% 0px",threshold:[0,.1,.5]});t.forEach(e=>a.observe(e)),window.addEventListener("load",o),window.addEventListener("resize",o,{passive:!0});return}let a=!1;const c=()=>{if(a)return;a=!0,requestAnimationFrame(()=>{e(),a=!1})};window.addEventListener("scroll",c,{passive:!0}),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("load",e),document.querySelectorAll("img").forEach(t=>t.addEventListener("load",e,{once:!0})),e()})()</script><script>(()=>{const t=Array.from(document.querySelectorAll(".article-body img"));if(!t.length)return;const e=document.createElement("div");e.className="lightbox-backdrop",e.innerHTML='<img alt="">',document.body.appendChild(e);const n=e.querySelector("img"),s=()=>e.classList.remove("is-open");e.addEventListener("click",s),document.addEventListener("keydown",e=>{e.key==="Escape"&&s()}),t.forEach(t=>{t.addEventListener("click",()=>{n.src=t.src,n.alt=t.alt||"",e.classList.add("is-open")})})})()</script><script>(()=>{if(typeof gtag!="function")return;document.addEventListener("click",e=>{const t=e.target.closest("a[href]");if(!t)return;const n=new URL(t.href,location.origin);n.hostname!==location.hostname&&gtag("event","click",{event_category:"outbound",event_label:t.href,transport_type:"beacon"})});const d=[25,50,75,100],a=new Set,c=()=>{const t=window.scrollY,e=document.documentElement.scrollHeight-window.innerHeight;if(e<=0)return;const n=Math.round(t/e*100);d.forEach(e=>{n>=e&&!a.has(e)&&(a.add(e),gtag("event","scroll_depth",{event_category:"engagement",event_label:e+"%",value:e}))})};let n=!1;window.addEventListener("scroll",()=>{if(n)return;n=!0,requestAnimationFrame(()=>{c(),n=!1})},{passive:!0}),document.body.classList.contains("error404")&&gtag("event","page_not_found",{event_category:"error",event_label:location.pathname+location.search,page_referrer:document.referrer});const l=Date.now(),i=()=>{const e=Math.round((Date.now()-l)/1e3);e>5&&gtag("event","read_time",{event_category:"engagement",event_label:location.pathname,value:e})};window.addEventListener("beforeunload",i),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&i()}),document.addEventListener("click",e=>{const t=e.target.closest("a[href]");if(!t)return;const n=t.href,s=[{pattern:/github\.com\/utam0k/i,platform:"github"},{pattern:/x\.com\/utam0k|twitter\.com\/utam0k/i,platform:"x"},{pattern:/linkedin\.com\/in\/utam0k/i,platform:"linkedin"}];for(const{pattern:e,platform:t}of s)if(e.test(n)){gtag("event","author_social_click",{event_category:"engagement",event_label:t,link_url:n});break}}),document.addEventListener("click",e=>{const t=e.target.closest(".share-btn, [data-share], [data-share-native]");if(!t)return;const n=t.dataset.share||t.dataset.platform||t.getAttribute("aria-label")||"unknown";gtag("event","share",{event_category:"engagement",event_label:n.toLowerCase(),content_type:"article",item_id:location.pathname})});const t=document.referrer,s=new URLSearchParams(location.search),o=s.get("utm_source")||"",u=s.get("utm_medium")||"",h=s.get("utm_campaign")||"";let e="direct";if(o)e=o;else if(t)try{const n=new URL(t).hostname;/google\./i.test(n)?e="google":/bing\./i.test(n)?e="bing":/twitter\.com|x\.com/i.test(n)?e="x":/facebook\.com/i.test(n)?e="facebook":/linkedin\.com/i.test(n)?e="linkedin":/t\.co/i.test(n)?e="x":e=n}catch{e="referral"}gtag("event","traffic_source",{event_category:"acquisition",event_label:e,referrer:t||"direct",utm_source:o,utm_medium:u,utm_campaign:h}),document.addEventListener("copy",()=>{const e=window.getSelection()?.toString()||"";e.length>10&&gtag("event","text_copy",{event_category:"engagement",event_label:location.pathname,text_length:e.length})}),document.addEventListener("click",e=>{const t=e.target.closest("a[href]");if(!t)return;try{const e=new URL(t.href,location.origin);e.hostname===location.hostname&&e.pathname!==location.pathname&&gtag("event","internal_link",{event_category:"navigation",event_label:e.pathname,link_text:t.textContent?.trim().slice(0,50)||"",from_page:location.pathname})}catch{}});const r=window.__setTheme;r&&(window.__setTheme=e=>{r(e),gtag("event","theme_change",{event_category:"preference",event_label:e||document.documentElement.dataset.theme})}),document.addEventListener("click",e=>{const t=e.target.closest('.lang-choice, [data-lang], .meta-link[href*="/en/"], .meta-link[href*="/ja/"]');if(!t)return;const n=t.href||"",s=n.includes("/en/")?"en":"ja";gtag("event","language_switch",{event_category:"preference",event_label:s,from_lang:document.documentElement.lang||"unknown"})}),document.addEventListener("click",e=>{const t=e.target.closest(".toc a, .toc__body a");if(!t)return;gtag("event","toc_click",{event_category:"navigation",event_label:t.textContent?.trim().slice(0,50)||"",target_id:t.hash||""})}),document.addEventListener("click",e=>{const t=e.target.closest('a[href*="index.xml"], a[href*=".rss"], a[href*="/feed"]');if(!t)return;gtag("event","rss_click",{event_category:"engagement",event_label:location.pathname})}),window.addEventListener("beforeprint",()=>{gtag("event","page_print",{event_category:"engagement",event_label:location.pathname})})})()</script></body></html>