<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>A method of self-made C compiler which even a beginner can do | utam0k</title><meta name=description content><meta property="og:description" content><meta property="og:type" content="article"><meta property="og:site_name" content="utam0k"><meta property="og:url" content="https://www.utam0k.jp/en/blog/2018/10/12/r9cc/"><meta property="og:title" content="A method of self-made C compiler which even a beginner can do"><meta property="og:image" content="https://www.utam0k.jp/img/logo.png"><link rel=alternate type=application/rss+xml href=https://www.utam0k.jp/en/index.xml><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=PT+Sans:wght@400;700&family=Noto+Sans+JP:wght@400;500;700&display=swap" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/hack-font/3.3.0/web/hack.min.css crossorigin=anonymous><link rel=stylesheet href=https://www.utam0k.jp/css/main.min.e46ce280f4d8aee2296cc8f069ef110bdefad322c9f4f4f0cc57123e995b4dc8.css integrity="sha256-5GzigPTYruIpbMjwae8RC9760yLJ9PTwzFcSPplbTcg="><script>(()=>{const e=window.matchMedia("(prefers-color-scheme: dark)"),n=e=>{const s=document.querySelectorAll(".theme-option");s.forEach(t=>{const n=t.dataset.mode===e;t.setAttribute("aria-pressed",n?"true":"false")});const t=document.querySelector(".theme-toggle");t&&t.setAttribute("aria-pressed",e==="dark"?"true":"false");const o=document.querySelectorAll(".theme-choice");o.forEach(t=>t.setAttribute("aria-checked",t.dataset.mode===e?"true":"false"));const n=document.querySelector("[data-theme-icon]");if(n){const t=e==="system"?document.documentElement.dataset.theme||"light":e;n.dataset.state=t}},s=t=>t==="system"?e.matches?"dark":"light":t,t=e=>{const t=s(e);document.documentElement.dataset.theme=t,document.body&&(document.body.dataset.theme=t,document.body.classList.toggle("theme-dark",t==="dark"),document.body.classList.toggle("theme-light",t==="light")),n(e)},o=()=>{const e=localStorage.getItem("color-scheme"),n=e||"system";t(n)};e.addEventListener("change",e=>{const n=localStorage.getItem("color-scheme");(!n||n==="system")&&t("system")}),window.__setTheme=e=>{const n=e||(document.documentElement.dataset.theme==="dark"?"light":"dark");localStorage.setItem("color-scheme",n),t(n)},window.__toggleTheme=()=>window.__setTheme(),window.__toggleThemeMenu=e=>{const t=e?.nextElementSibling;if(!t)return;const n=!t.hidden;document.querySelectorAll(".theme-popover").forEach(e=>e.hidden=!0),document.querySelectorAll(".theme-trigger").forEach(e=>e.setAttribute("aria-expanded","false")),n||(t.hidden=!1,e.setAttribute("aria-expanded","true"))},document.addEventListener("click",e=>{const t=document.querySelector(".theme-popover");if(!t)return;if(e.target.closest(".theme-menu"))return;t.hidden=!0;const n=document.querySelector(".theme-trigger");n?.setAttribute("aria-expanded","false")}),window.__toggleLangMenu=e=>{const t=e?.nextElementSibling;if(!t)return;const n=!t.hidden;document.querySelectorAll(".lang-popover").forEach(e=>e.hidden=!0),document.querySelectorAll(".lang-trigger").forEach(e=>e.setAttribute("aria-expanded","false")),n||(t.hidden=!1,e.setAttribute("aria-expanded","true"))},window.__switchLang=(e)=>{if(!e)return;window.location.href=e},document.addEventListener("click",e=>{const t=document.querySelector(".lang-popover");if(!t)return;if(e.target.closest(".lang-menu"))return;t.hidden=!0;const n=document.querySelector(".lang-trigger");n?.setAttribute("aria-expanded","false")}),o(),document.addEventListener("DOMContentLoaded",()=>{const t=document.documentElement.dataset.theme||(e.matches?"dark":"light");n(t)})})()</script><meta name=generator content="Hugo 0.152.2"></head><body class=page data-has-toc=true><div class=page-shell><header class=site-header><a class=brand href=https://www.utam0k.jp/en/><span class=brand-mark aria-hidden=true style=background-image:url(https://www.utam0k.jp/img/logo.png)></span><div class=brand-text><span class=brand-name>utam0k</span>
<span class=brand-tagline>utam0k</span></div></a><div class=header-actions><nav class=main-nav aria-label=Primary><a class=nav-item href=https://www.utam0k.jp/en/post/>Posts</a>
<a class=nav-item href=https://www.utam0k.jp/en/slides/>Slides</a>
<a class=nav-item href=https://www.utam0k.jp/en/page/about/>About</a></nav><span class=header-divider aria-hidden=true></span><div class=lang-menu><button class=lang-trigger type=button aria-haspopup=true aria-expanded=false onclick=window.__toggleLangMenu&&window.__toggleLangMenu(this)>
<span class=lang-trigger__label>EN</span></button><div class=lang-popover hidden role=menu><button class=lang-choice type=button data-lang=JA aria-checked=false role=menuitemradio onclick='window.__switchLang&&window.__switchLang("/blog/2018/10/12/r9cc/","JA")'>日本語</button>
<button class=lang-choice type=button data-lang=EN aria-checked=true role=menuitemradio onclick='window.__switchLang&&window.__switchLang("/en/","EN")'>English</button></div></div><div class=theme-menu><button class=theme-trigger type=button aria-haspopup=true aria-expanded=false onclick=window.__toggleThemeMenu&&window.__toggleThemeMenu(this)>
<span class=theme-trigger__icon aria-hidden=true data-theme-icon data-state=system></span>
<span class=sr-only data-theme-label>Theme</span></button><div class=theme-popover hidden><button class=theme-choice type=button data-mode=system aria-checked=false role=menuitemradio onclick='window.__setTheme&&window.__setTheme("system")'>Auto (System)</button>
<button class=theme-choice type=button data-mode=light aria-checked=false role=menuitemradio onclick='window.__setTheme&&window.__setTheme("light")'>Light</button>
<button class=theme-choice type=button data-mode=dark aria-checked=false role=menuitemradio onclick='window.__setTheme&&window.__setTheme("dark")'>Dark</button></div></div></div></header><main class=layout><div class=article-layout><article class=article><header class="article-hero article-hero--stack"><h1 class=article-title>A method of self-made C compiler which even a beginner can do</h1><div class="share-block share-block--mobile"><div class=toc-share aria-label="Share this post"><a class=share-btn href="https://twitter.com/intent/tweet?text=A%20method%20of%20self-made%20C%20compiler%20which%20even%20a%20beginner%20can%20do&url=https%3a%2f%2fwww.utam0k.jp%2fen%2fblog%2f2018%2f10%2f12%2fr9cc%2f" target=_blank rel="noopener noreferrer"><svg viewBox="0 0 24 24" aria-hidden="true"><path d="M3 3h5.3l3.4 4.8L14.8 3H21l-6.8 9.2L21 21h-5.3L12 15.8 8.2 21H3l6.8-8.9L3 3z"/></svg>
<span class=sr-only>Share on X</span>
</a><a class=share-btn href="http://b.hatena.ne.jp/add?mode=confirm&url=https%3a%2f%2fwww.utam0k.jp%2fen%2fblog%2f2018%2f10%2f12%2fr9cc%2f&title=A%20method%20of%20self-made%20C%20compiler%20which%20even%20a%20beginner%20can%20do" target=_blank rel="noopener noreferrer"><svg viewBox="0 0 24 24" aria-hidden="true"><path d="M20.47.0C22.42.0 24 1.58 24 3.53v16.94c0 1.95-1.58 3.53-3.53 3.53H3.53C1.58 24 0 22.42.0 20.47V3.53C0 1.58 1.58.0 3.53.0h16.94zM8.61 17.25c1.2.0 2.06-.04 2.58-.12.53-.08.98-.22 1.32-.41.45-.23.78-.56 1.02-.99.24-.43.36-.91.36-1.48.0-.78-.21-1.4-.63-1.87-.42-.48-.99-.74-1.74-.79.66-.18 1.16-.45 1.46-.81.32-.34.47-.82.47-1.42.0-.48-.1-.88-.3-1.26-.21-.36-.5-.65-.88-.87-.35-.2-.74-.32-1.22-.4-.46-.08-1.29-.12-2.48-.12H5.65v10.46H8.6zm.74-4.19c.7.0 1.18.09 1.44.27.27.18.4.5.4.93.0.4-.14.69-.42.86-.27.18-.76.25-1.44.25H8.31v-2.31h1.03zm8.66.71V6.71h-2.46v7.06h2.46zM8.93 9.08c.71.0 1.19.08 1.43.24.25.16.37.44.37.84.0.38-.13.65-.39.8-.27.16-.75.24-1.45.24h-.57V9.08h.61z"/></svg>
<span class=sr-only>はてなブックマーク</span>
</a><a class=share-btn href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fwww.utam0k.jp%2fen%2fblog%2f2018%2f10%2f12%2fr9cc%2f&title=A%20method%20of%20self-made%20C%20compiler%20which%20even%20a%20beginner%20can%20do" target=_blank rel="noopener noreferrer"><svg viewBox="0 0 24 24" aria-hidden="true"><path d="M20.45 3.5H3.55A1.55 1.55.0 002 5.05v13.9A1.55 1.55.0 003.55 20.5h16.9A1.55 1.55.0 0022 18.95V5.05A1.55 1.55.0 0020.45 3.5zM7.14 18.1H4.54V9.88h2.6V18.1zm-1.3-9.36a1.51 1.51.0 110-3.02 1.51 1.51.0 010 3.02zM19 18.1h-2.6v-4.96c0-1.18-.42-1.99-1.48-1.99-.81.0-1.3.55-1.51 1.09-.08.19-.1.46-.1.73v5.13H10.7s.03-8.32.0-9.18h2.6v1.3c.35-.54.98-1.31 2.39-1.31 1.74.0 3.31 1.13 3.31 3.56V18.1z"/></svg>
<span class=sr-only>Share on LinkedIn</span></a></div></div><div class="article-meta article-meta--stack"><div class=meta-row>date: <time datetime=2018-10-12>Fri, 12 Oct 2018 12:15:41 +0900</time></div><div class=meta-row>author: <a class=meta-link href=https://www.utam0k.jp/en/page/about/>@utam0k</a></div><div class=meta-row>tags: [<a class=meta-link href=https://www.utam0k.jp/en/tags/rust>rust</a>, <a class=meta-link href=https://www.utam0k.jp/en/tags/compiler>compiler</a>]</div><div class=meta-row>languages: [
<span class=meta-lang-current>EN</span>
,
<a class=meta-link href=https://www.utam0k.jp/blog/2018/10/12/r9cc/>JA</a>
]</div></div></header><div class=meta-separator aria-hidden=true>---</div><details class=toc-inline id=mobile-toc-inline><summary>Show table of contents</summary><nav class=toc aria-label="Table of contents"><p class=toc__title>Contents</p><div class=toc__body><nav id=TableOfContents><ul><li><ul><li><a href=#introduction>Introduction</a></li><li><a href=#deliverable>Deliverable</a></li><li><a href=#things-to-be-careful-of>Things to be careful of</a><ul><li><ul><li><a href=#understand-what-i-am-doing>Understand what I am doing</a></li><li><a href=#step-by-step>Step by step</a></li></ul></li></ul></li><li><a href=#motivation>Motivation</a></li><li><a href=#conclusion>Conclusion</a></li><li><a href=#additional-detail-information>Additional detail information</a></li><li><a href=#tcfm>tcfm</a></li></ul></li></ul></nav></div></nav></details><div class=toc-modal id=mobile-toc-modal hidden><div class=toc-modal__header><span>Contents</span>
<button type=button class=toc-modal__close data-toc-close>&#215;</button></div><div class=toc-modal__body><nav class=toc aria-label="Table of contents"><p class=toc__title>Contents</p><div class=toc__body><nav id=TableOfContents><ul><li><ul><li><a href=#introduction>Introduction</a></li><li><a href=#deliverable>Deliverable</a></li><li><a href=#things-to-be-careful-of>Things to be careful of</a><ul><li><ul><li><a href=#understand-what-i-am-doing>Understand what I am doing</a></li><li><a href=#step-by-step>Step by step</a></li></ul></li></ul></li><li><a href=#motivation>Motivation</a></li><li><a href=#conclusion>Conclusion</a></li><li><a href=#additional-detail-information>Additional detail information</a></li><li><a href=#tcfm>tcfm</a></li></ul></li></ul></nav></div></nav></div></div><div class=toc-modal__overlay hidden></div><div class=article-body><h2 id=introduction>Introduction</h2><p>Recently, self-made C compilers are popular in Japan because a lecture was held to teach about how to make them.
I did not participate in it but it seemed fun!!! However, how can I do this???
There were no compiler experts around me. Oh My God&mldr;<br>※ <strong>I have many many friends!</strong><br>It is difficult to make a C compiler without relying on anyone!?
But I want to know about compilers because they are like too blackboxes for me.
Even though I looked at various books about compilers,
I did not understand them at all, so I thought that the only way to do it was to model <a href=https://github.com/rui314/9cc>9cc</a>.
Anyway, I have been transplanting all of the <a href=https://github.com/rui314/9cc>9cc</a> first commit to Rust.
<a href=https://github.com/rui314/9cc>9cc</a> is a C compiler written by <a href=https://twitter.com/rui314>rui314</a>.
Codes of [9cc] (<a href=https://github.com/rui314/9cc>https://github.com/rui314/9cc</a>) are very readable and very easy to transplant.
<a href=https://github.com/rui314/9cc>9cc</a> is <em><strong>God</strong></em>.
I think that the C compiler you create with this method will require little prior knowledge.
To be honest, you just have to do it.
I would be pleased if this would be helpful for those who would like to do the same thing.</p><h2 id=deliverable>Deliverable</h2><p><strong>My self-made C compiler: <a href=https://github.com/utam0k/r9cc>r9cc</a></strong></p><p>I was <a href=https://github.com/utam0k/r8cc>challenging</a> the same thing with 9cc&rsquo;s previous work <a href=https://github.com/rui314/8cc>8cc</a>.
However It stalled and <a href=https://github.com/rui314/9cc>9cc</a> came out,
so I switched to <a href=https://github.com/rui314/9cc>9cc</a>.
Actually, this is my second challenge.</p><p>In <a href=https://github.com/utam0k/r9cc>r9cc</a>, the first capital letter of the commit message is simply ported commit from <a href=https://github.com/rui314/9cc>9cc</a>.
Since I became tired of writing in English quikly,
I will show readers that <a href=https://github.com/utam0k/r9cc>r9cc</a> can compile this code.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=kt>int</span> <span class=n>fibdp</span><span class=p>[</span><span class=mi>100</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>fib</span><span class=p>(</span><span class=kt>int</span> <span class=n>n</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>n</span> <span class=o>==</span> <span class=mi>0</span> <span class=o>||</span> <span class=n>n</span> <span class=o>==</span> <span class=mi>1</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=n>fibdp</span><span class=p>[</span><span class=n>n</span><span class=p>]</span> <span class=o>!=</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>fibdp</span><span class=p>[</span><span class=n>n</span><span class=p>];</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>fibdp</span><span class=p>[</span><span class=n>n</span><span class=p>]</span> <span class=o>=</span> <span class=nf>fib</span><span class=p>(</span><span class=n>n</span><span class=o>-</span><span class=mi>2</span><span class=p>)</span> <span class=o>+</span> <span class=nf>fib</span><span class=p>(</span><span class=n>n</span><span class=o>-</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>fibdp</span><span class=p>[</span><span class=n>n</span><span class=p>];</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=mi>100</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>fibdp</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=n>ans</span> <span class=o>=</span> <span class=nf>fib</span><span class=p>(</span><span class=mi>46</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nf>printf</span><span class=p>(</span><span class=s>&#34;%d</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>ans</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>There are other features:</p><ul><li>Four arithmetic operations</li><li>Logical operation</li><li>Local variable</li><li>Global variable</li><li>Function call with arguments</li><li>Function definition</li><li>Array</li><li>Pointer</li><li>++/--</li><li>char/int</li><li>String literal</li><li>Struct</li><li>extern</li><li>#include</li><li>Comment</li></ul><p>I also made assignments at the initialization of array as <a href=https://github.com/utam0k/r9cc>r9cc</a>&rsquo;s unique function, so this also works.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=n>x</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=mi>10</span><span class=p>,</span> <span class=mi>11</span><span class=p>,</span> <span class=mi>12</span><span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>x</span><span class=p>[</span><span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>I was surprised that various C codes could be compiled with only using these features.</p><h2 id=things-to-be-careful-of>Things to be careful of</h2><h4 id=understand-what-i-am-doing>Understand what I am doing</h4><p>It is possible to rewrite to Rust without considering each commit perhaps.
I think that <strong>continuing despite not understanding anything</strong> is the most avoidable thing.
I implemented it with as much as possible what the commit I was working on was doing.
I was implementing it after grasping the whole commit by the following procedure.</p><ol><li>Reading a commit message.</li><li>Reading the added test codes.</li><li>Reading the entire code of commit.</li></ol><p>In addition to this, I was grasping the rough flow by looking at the +5 commit positions of the commit I am now doing.
I think that it is good to check whether I can properly grasp the code by trying to implement the unique function.</p><h4 id=step-by-step>Step by step</h4><p>[First commit] (<a href=https://github.com/utam0k/r9cc/commit/b8b44544eb51d6229f19033a5048043e628ab55a>https://github.com/utam0k/r9cc/commit/b8b44544eb51d6229f19033a5048043e628ab55a</a>) of [r9cc] (<a href=https://github.com/utam0k/r9cc>https://github.com/utam0k/r9cc</a>) is as simple as this.<br><a href=https://github.com/rui314/9cc/commit/56e94442ae8844688d5390851e5b29ba0c946e2f>Fist commit</a> of <a href=https://github.com/rui314/9cc>9cc</a> also like this.
It just returns a number.<br><strong>Is anyone likely to be able to look at this!?</strong><br>There was not a type in the early days.
It is not a policy to make syntactic analysis only first, but whole of up to where to output the assembly is made <strong>evenly</strong>.
Although I wanted to make big things, I did it a bit at a time.</p><h2 id=motivation>Motivation</h2><p><strong>I don&rsquo;t have anyone to talk with about the compiler because I don&rsquo;t have friends who are interested in compilers in the real world.</strong><br>So, I had to keep my motivation by somehow trying my best with strong will.
Because I had no confidence to have a strong will, I thought about a way to keep motivation.
I think that here is the big wall when I do it by myself.
I think that it is possible to keep my motivation by having a goal.
I would like to set a self-host as a big goal, but I could not do it because <a href=https://github.com/rui314/9cc>r9cc</a> is written by Rust.
So, I settled with a parent host as a big goal.
The word <code>parent host</code> means that r9cc can compile <a href=https://github.com/rui314/9cc>9cc</a>.
However, I thought about a smaller goal because I was unlikely to keep motivation with just this goal.
The small goal is aimed at a reasonable commit of [9cc] (<a href=https://github.com/rui314/9cc%29>https://github.com/rui314/9cc)</a>.
I chose commits that make me excited.<br>I chose:</p><ul><li><a href=https://github.com/rui314/9cc/commit/56e94442ae8844688d5390851e5b29ba0c946e2f>Compile a single number to a program that exits with the given number.</a></li><li><a href=https://github.com/rui314/9cc/commit/42e403e3de0c6457bc11ab14c55a9dad27ed82be>Add variable.</a></li><li><a href=https://github.com/rui314/9cc/commit/c7933acab4e410aa0c0c7a38358092208ace822d>Add zero-arity function definition.</a></li><li><a href=https://github.com/rui314/9cc/commit/b487b30ab0c600b764ea3a94e2502b68f5ee4194>Add &ldquo;for&rdquo;.</a></li><li><a href=https://github.com/rui314/9cc/commit/e43b738d6bb6ecd397e09b46346e0825a00d89e6>Add pointer.</a></li><li><a href=https://github.com/rui314/9cc/commit/63739ad7ef08ee7e037862dfa05739ce00abac5f>Add examples/nqueen.c.</a></li><li><a href=https://github.com/rui314/9cc/commit/bf717fa5e53ebbae9f949515d3662f77af4ff4dd>Add struct definition. Only sizeof() is applicable. No member access.</a></li><li><a href=https://github.com/rui314/9cc/commit/a406a04660d848e083d7b39610409fd9ba497142>Add pre/post increment/decrement operators.</a></li><li><a href=https://github.com/rui314/9cc/commit/a382606b9728ca33f5dedae4f6ca5cc3c9404838>Implement &ldquo;#include&rdquo;.</a></li></ul><p>Do you feel excited by just seeing the title of the commit message? Yes, you do.
I got it little by little with the motivation that <code>#include</code> will work or if it can be done by commit here, it is really fun.</p><p>As you add examples, tension also increases a lot.
It is only <a href=https://github.com/rui314/9cc/blob/master/examples/nqueen.c>nqueen.c</a> if it is <a href=https://github.com/rui314/9cc>9cc</a>,
but <a href=https://github.com/utam0k/r9cc/blob/master/examples/fib.c>fib.c</a> and <a href=https://github.com/utam0k/r9cc/blob/master/examples/prime.c>prime.c</a>
have also been added in <a href=https://github.com/utam0k/r9cc>r9cc</a>.
It&rsquo;s fun when I compiled my code.</p><h2 id=conclusion>Conclusion</h2><p>For the time being I was able to compile <code>#include</code>, so I made an article.
Creating [r9cc] (<a href=https://github.com/utam0k/r9cc>https://github.com/utam0k/r9cc</a>) improves programming skills,
and furthermore, I think that the world of the compiler that I did not understand at all was just a glimpse.
In the future, I will aim for a <code>parent host</code> and go on a little by little.
I think that it would be interesting if the self-made C compiler population increased even a little,
because self-made C compiling is very fun and recommended!
<em><strong>I am still a beginner about Rust so I&rsquo;m waiting for a good pull request.</strong></em><br>I&rsquo;d like to write another article about the technical point unique to Rust.
Even if I say<br><em><strong>I can develop C language a little</strong></em><br>it may be tolerated.
Special thanks for <a href=https://github.com/rui314/9cc>9cc</a> and <a href=https://twitter.com/rui314>rui314</a>.
plz awesome.</p><h2 id=additional-detail-information>Additional detail information</h2><p>It took me about 1.5 weeks to be able to compile somthing like a general C compiler.
It was about 2 months until <code>#include</code> was made.
If you have any questions please do not hesitate to contact me on <a href=https://twitter.com/utam0k>Twitter</a>.</p><p>I learned:</p><ul><li>Assembly</li><li>Behavior of C language</li><li>Role of various registers</li><li>Stack</li></ul><h2 id=tcfm>tcfm</h2><p>Finally, I will introduce <a href=https://turingcomplete.fm/>Turing Complete FM</a>, which <a href=https://twitter.com/rui314>rui314</a> is doing.
You can listen mainly about low layer stories such as C compiler&rsquo;s story.</p></div><div class=article-footer><a class=muted href=https://www.utam0k.jp/en/post/>← Back to posts</a><div class=article-nav><a class=nav-arrow href=https://www.utam0k.jp/en/blog/2021/12/24/from_dwango_to_gitpod/>from :dwango: to :gitpod: →</a></div></div></article><aside class=toc-desktop><nav class=toc aria-label="Table of contents"><p class=toc__title>Contents</p><div class=toc__body><nav id=TableOfContents><ul><li><ul><li><a href=#introduction>Introduction</a></li><li><a href=#deliverable>Deliverable</a></li><li><a href=#things-to-be-careful-of>Things to be careful of</a><ul><li><ul><li><a href=#understand-what-i-am-doing>Understand what I am doing</a></li><li><a href=#step-by-step>Step by step</a></li></ul></li></ul></li><li><a href=#motivation>Motivation</a></li><li><a href=#conclusion>Conclusion</a></li><li><a href=#additional-detail-information>Additional detail information</a></li><li><a href=#tcfm>tcfm</a></li></ul></li></ul></nav></div></nav><div class="share-block share-block--desktop"><div class=toc-share aria-label="Share this post"><a class=share-btn href="https://twitter.com/intent/tweet?text=A%20method%20of%20self-made%20C%20compiler%20which%20even%20a%20beginner%20can%20do&url=https%3a%2f%2fwww.utam0k.jp%2fen%2fblog%2f2018%2f10%2f12%2fr9cc%2f" target=_blank rel="noopener noreferrer"><svg viewBox="0 0 24 24" aria-hidden="true"><path d="M3 3h5.3l3.4 4.8L14.8 3H21l-6.8 9.2L21 21h-5.3L12 15.8 8.2 21H3l6.8-8.9L3 3z"/></svg>
<span class=sr-only>Share on X</span>
</a><a class=share-btn href="http://b.hatena.ne.jp/add?mode=confirm&url=https%3a%2f%2fwww.utam0k.jp%2fen%2fblog%2f2018%2f10%2f12%2fr9cc%2f&title=A%20method%20of%20self-made%20C%20compiler%20which%20even%20a%20beginner%20can%20do" target=_blank rel="noopener noreferrer"><svg viewBox="0 0 24 24" aria-hidden="true"><path d="M20.47.0C22.42.0 24 1.58 24 3.53v16.94c0 1.95-1.58 3.53-3.53 3.53H3.53C1.58 24 0 22.42.0 20.47V3.53C0 1.58 1.58.0 3.53.0h16.94zM8.61 17.25c1.2.0 2.06-.04 2.58-.12.53-.08.98-.22 1.32-.41.45-.23.78-.56 1.02-.99.24-.43.36-.91.36-1.48.0-.78-.21-1.4-.63-1.87-.42-.48-.99-.74-1.74-.79.66-.18 1.16-.45 1.46-.81.32-.34.47-.82.47-1.42.0-.48-.1-.88-.3-1.26-.21-.36-.5-.65-.88-.87-.35-.2-.74-.32-1.22-.4-.46-.08-1.29-.12-2.48-.12H5.65v10.46H8.6zm.74-4.19c.7.0 1.18.09 1.44.27.27.18.4.5.4.93.0.4-.14.69-.42.86-.27.18-.76.25-1.44.25H8.31v-2.31h1.03zm8.66.71V6.71h-2.46v7.06h2.46zM8.93 9.08c.71.0 1.19.08 1.43.24.25.16.37.44.37.84.0.38-.13.65-.39.8-.27.16-.75.24-1.45.24h-.57V9.08h.61z"/></svg>
<span class=sr-only>はてなブックマーク</span>
</a><a class=share-btn href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fwww.utam0k.jp%2fen%2fblog%2f2018%2f10%2f12%2fr9cc%2f&title=A%20method%20of%20self-made%20C%20compiler%20which%20even%20a%20beginner%20can%20do" target=_blank rel="noopener noreferrer"><svg viewBox="0 0 24 24" aria-hidden="true"><path d="M20.45 3.5H3.55A1.55 1.55.0 002 5.05v13.9A1.55 1.55.0 003.55 20.5h16.9A1.55 1.55.0 0022 18.95V5.05A1.55 1.55.0 0020.45 3.5zM7.14 18.1H4.54V9.88h2.6V18.1zm-1.3-9.36a1.51 1.51.0 110-3.02 1.51 1.51.0 010 3.02zM19 18.1h-2.6v-4.96c0-1.18-.42-1.99-1.48-1.99-.81.0-1.3.55-1.51 1.09-.08.19-.1.46-.1.73v5.13H10.7s.03-8.32.0-9.18h2.6v1.3c.35-.54.98-1.31 2.39-1.31 1.74.0 3.31 1.13 3.31 3.56V18.1z"/></svg>
<span class=sr-only>Share on LinkedIn</span></a></div></div></aside></div><button type=button class=mobile-toc-fab data-toc-modal=#mobile-toc-modal aria-pressed=false>
<span class=mobile-toc-fab__label>TOC</span>
<svg class="mobile-toc-fab__icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M6 14l6-6 6 6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></button></main><footer class=site-footer><div class=footer-meta><span>&copy; 2025 Toru Komatsu</span>
<a href=https://twitter.com/utam0k target=_blank rel=noopener class=muted>@utam0k</a></div><div class=footer-links><a class=muted href=https://www.utam0k.jp/en/index.xml>RSS</a>
<a class=muted href=https://github.com/utam0k target=_blank rel=noopener>GitHub</a></div></footer></div><script defer src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script defer type=text/x-mathjax-config>MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] } });</script><script>(()=>{const e=()=>{const e=window.matchMedia("(max-width: 1024px)").matches,t=/Mobi|Android/i.test(navigator.userAgent),n=e||t;document.body.dataset.isMobile=n?"true":"false"};e(),window.addEventListener("resize",e,{passive:!0})})(),(()=>{const e=()=>Array.from(document.querySelectorAll("[data-toc-modal]")),a=()=>Array.from(document.querySelectorAll(".toc-modal")),d=()=>Array.from(document.querySelectorAll(".toc-modal__overlay")),r=t=>e().filter(e=>e.dataset.tocModal===`#${t?.id}`),n=(e,t)=>{r(e).forEach(e=>{e.classList.toggle("is-active",t),e.setAttribute("aria-pressed",t?"true":"false")})},c=e=>{if(!e)return;e.classList.add("is-open"),e.hidden=!1,document.body.classList.add("toc-open"),n(e,!0)},t=e=>{if(!e)return;e.classList.remove("is-open"),e.hidden=!0,document.body.classList.remove("toc-open"),n(e,!1)},s=()=>a().forEach(e=>t(e)),l=e=>{if(!e)return;e.classList.contains("is-open")?t(e):c(e)},o=()=>{e().forEach(e=>e.classList.add("is-visible"))},i=()=>{e().forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.tocModal,n=t?document.querySelector(t):null;l(n)})}),document.addEventListener("click",e=>{if(e.target?.classList?.contains("toc-modal__overlay")&&s(),e.target?.matches("[data-toc-close]")){const n=e.target.closest(".toc-modal");t(n)}e.target?.closest(".toc-modal")&&e.target.tagName==="A"&&s()}),window.addEventListener("scroll",o,{passive:!0}),o()};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",i):i()})(),(()=>{const e=document.querySelector(".site-header");if(!e)return;const s=()=>document.body.dataset.isMobile==="true";if(s())return;let t=window.scrollY,n=!1;const o=8,i=()=>{const n=window.scrollY;if(n<80){e.classList.remove("is-hidden"),t=n;return}if(Math.abs(n-t)<o)return;n>t?e.classList.add("is-hidden"):e.classList.remove("is-hidden"),t=n};window.addEventListener("scroll",()=>{if(n)return;n=!0,requestAnimationFrame(()=>{i(),n=!1})},{passive:!0})})()</script><script>(()=>{const s=Array.from(document.querySelectorAll(".toc__body a"));if(!s.length)return;const r=e=>decodeURIComponent(e.hash.replace("#","")),o=new Map;s.forEach(e=>{const t=r(e),n=o.get(t)||[];n.push(e),o.set(t,n)});const t=Array.from(new Set(s.map(e=>document.getElementById(r(e))).filter(Boolean)));if(!t.length)return;const i=e=>{o.forEach((t,n)=>{t.forEach(t=>t.classList.toggle("is-active",n===e))})},e=()=>{const n=window.scrollY+120;let e=t[0].id;for(const s of t)if(s.offsetTop<=n)e=s.id;else break;return i(e),e};let n=t[0].id;if(i(n),"IntersectionObserver"in window){const s=new Map,o=()=>{if(s.size){const e=Array.from(s.values()).sort((e,t)=>e.boundingClientRect.top-t.boundingClientRect.top)[0];n=e.target.id,i(n)}else n=e()},a=new IntersectionObserver(e=>{e.forEach(e=>{const t=e.target.id;e.isIntersecting?s.set(t,e):s.delete(t)}),o()},{rootMargin:"0px 0px -65% 0px",threshold:[0,.1,.5]});t.forEach(e=>a.observe(e)),window.addEventListener("load",o),window.addEventListener("resize",o,{passive:!0});return}let a=!1;const c=()=>{if(a)return;a=!0,requestAnimationFrame(()=>{e(),a=!1})};window.addEventListener("scroll",c,{passive:!0}),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("load",e),document.querySelectorAll("img").forEach(t=>t.addEventListener("load",e,{once:!0})),e()})()</script></body></html>